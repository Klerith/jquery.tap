(function(n,t){"use strict";var e=t.support.touch=!!("ontouchstart"in window||window.DocumentTouch&&n instanceof DocumentTouch),c="._tap",o="tap",i=40,a=400,s="clientX clientY screenX screenY pageX pageY".split(" "),u={$el:null,x:0,y:0,count:0,cancel:!1,start:0},h=function(n,e){var c=e.originalEvent,o=t.Event(c),i=c.changedTouches?c.changedTouches[0]:c;o.type=n;for(var a=0,u=s.length;u>a;a++)o[s[a]]=i[s[a]];return o},r=function(n){var t=n.changedTouches[0],e=Math.abs(t.pageX-u.x),c=Math.abs(t.pageY-u.y),o=Math.max(e,c);return a>Date.now()-u.start&&i>o&&!u.cancel&&1===u.count&&l.isTracking},l={isEnabled:!1,isTracking:!1,enable:function(){return this.isEnabled?this:(this.isEnabled=!0,t(n.body).on("touchstart"+c,this.onTouchStart).on("touchend"+c,this.onTouchEnd).on("touchcancel"+c,this.onTouchCancel),this)},disable:function(){return this.isEnabled?(this.isEnabled=!1,t(n.body).off("touchstart"+c,this.onTouchStart).off("touchend"+c,this.onTouchEnd).off("touchcancel"+c,this.onTouchCancel),this):this},onTouchStart:function(n){var e=n.originalEvent.touches;if(u.count=e.length,!l.isTracking){l.isTracking=!0;var c=e[0];u.cancel=!1,u.start=Date.now(),u.$el=t(n.target),u.x=c.pageX,u.y=c.pageY}},onTouchEnd:function(n){r(n)&&u.$el.trigger(h(o,n)),l.onTouchCancel(n)},onTouchCancel:function(){l.isTracking=!1,u.cancel=!0}};if(t.event.special[o]={setup:function(){l.enable()}},!e){var g=[],f=function(n){var e=n.originalEvent;if(!(n.isTrigger||g.indexOf(e)>=0)){g.length>3&&g.splice(0,g.length-3),g.push(e);var c=h(o,n);t(n.target).trigger(c)}};t.event.special[o]={setup:function(){t(this).on("click"+c,f)},teardown:function(){t(this).off("click"+c,f)}}}})(document,jQuery);